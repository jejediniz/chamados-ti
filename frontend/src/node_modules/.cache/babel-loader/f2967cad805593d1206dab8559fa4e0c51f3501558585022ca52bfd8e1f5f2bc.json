{"ast":null,"code":"const STORAGE_KEY = \"@chamados-ti:chamados\";\nexport const STATUS_CHAMADO = {\n  ABERTO: \"ABERTO\",\n  EM_ANDAMENTO: \"EM_ANDAMENTO\",\n  AGUARDANDO_USUARIO: \"AGUARDANDO_USUARIO\",\n  RESOLVIDO: \"RESOLVIDO\"\n};\nexport async function listarChamados(empresaId) {\n  if (!empresaId) throw new Error(\"Empresa não informada\");\n  const dados = localStorage.getItem(STORAGE_KEY);\n  const chamados = dados ? JSON.parse(dados) : [];\n  return chamados.filter(c => c.empresaId === empresaId);\n}\nexport async function salvarChamado(empresaId, chamado) {\n  if (!empresaId) throw new Error(\"Empresa não informada\");\n  const dados = localStorage.getItem(STORAGE_KEY);\n  const chamados = dados ? JSON.parse(dados) : [];\n  const novoChamado = {\n    ...chamado,\n    id: Date.now(),\n    empresaId,\n    status: STATUS_CHAMADO.ABERTO\n  };\n  chamados.push(novoChamado);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(chamados));\n  return novoChamado;\n}\nexport async function atualizarChamadoStorage(empresaId, id, dadosAtualizados) {\n  const dados = localStorage.getItem(STORAGE_KEY);\n  const chamados = dados ? JSON.parse(dados) : [];\n  const index = chamados.findIndex(c => c.id === id && c.empresaId === empresaId);\n  if (index === -1) throw new Error(\"Chamado não encontrado\");\n  chamados[index] = {\n    ...chamados[index],\n    ...dadosAtualizados\n  };\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(chamados));\n  return chamados[index];\n}","map":{"version":3,"names":["STORAGE_KEY","STATUS_CHAMADO","ABERTO","EM_ANDAMENTO","AGUARDANDO_USUARIO","RESOLVIDO","listarChamados","empresaId","Error","dados","localStorage","getItem","chamados","JSON","parse","filter","c","salvarChamado","chamado","novoChamado","id","Date","now","status","push","setItem","stringify","atualizarChamadoStorage","dadosAtualizados","index","findIndex"],"sources":["/home/diniz_jessica/development/chamados-ti/src/services/chamadosService.js"],"sourcesContent":["const STORAGE_KEY = \"@chamados-ti:chamados\";\n\nexport const STATUS_CHAMADO = {\n  ABERTO: \"ABERTO\",\n  EM_ANDAMENTO: \"EM_ANDAMENTO\",\n  AGUARDANDO_USUARIO: \"AGUARDANDO_USUARIO\",\n  RESOLVIDO: \"RESOLVIDO\",\n};\n\nexport async function listarChamados(empresaId) {\n  if (!empresaId) throw new Error(\"Empresa não informada\");\n\n  const dados = localStorage.getItem(STORAGE_KEY);\n  const chamados = dados ? JSON.parse(dados) : [];\n\n  return chamados.filter(c => c.empresaId === empresaId);\n}\n\nexport async function salvarChamado(empresaId, chamado) {\n  if (!empresaId) throw new Error(\"Empresa não informada\");\n\n  const dados = localStorage.getItem(STORAGE_KEY);\n  const chamados = dados ? JSON.parse(dados) : [];\n\n  const novoChamado = {\n    ...chamado,\n    id: Date.now(),\n    empresaId,\n    status: STATUS_CHAMADO.ABERTO,\n  };\n\n  chamados.push(novoChamado);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(chamados));\n\n  return novoChamado;\n}\n\nexport async function atualizarChamadoStorage(empresaId, id, dadosAtualizados) {\n  const dados = localStorage.getItem(STORAGE_KEY);\n  const chamados = dados ? JSON.parse(dados) : [];\n\n  const index = chamados.findIndex(\n    c => c.id === id && c.empresaId === empresaId\n  );\n\n  if (index === -1) throw new Error(\"Chamado não encontrado\");\n\n  chamados[index] = {\n    ...chamados[index],\n    ...dadosAtualizados,\n  };\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(chamados));\n  return chamados[index];\n}\n"],"mappings":"AAAA,MAAMA,WAAW,GAAG,uBAAuB;AAE3C,OAAO,MAAMC,cAAc,GAAG;EAC5BC,MAAM,EAAE,QAAQ;EAChBC,YAAY,EAAE,cAAc;EAC5BC,kBAAkB,EAAE,oBAAoB;EACxCC,SAAS,EAAE;AACb,CAAC;AAED,OAAO,eAAeC,cAAcA,CAACC,SAAS,EAAE;EAC9C,IAAI,CAACA,SAAS,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EAExD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACX,WAAW,CAAC;EAC/C,MAAMY,QAAQ,GAAGH,KAAK,GAAGI,IAAI,CAACC,KAAK,CAACL,KAAK,CAAC,GAAG,EAAE;EAE/C,OAAOG,QAAQ,CAACG,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACT,SAAS,KAAKA,SAAS,CAAC;AACxD;AAEA,OAAO,eAAeU,aAAaA,CAACV,SAAS,EAAEW,OAAO,EAAE;EACtD,IAAI,CAACX,SAAS,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EAExD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACX,WAAW,CAAC;EAC/C,MAAMY,QAAQ,GAAGH,KAAK,GAAGI,IAAI,CAACC,KAAK,CAACL,KAAK,CAAC,GAAG,EAAE;EAE/C,MAAMU,WAAW,GAAG;IAClB,GAAGD,OAAO;IACVE,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;IACdf,SAAS;IACTgB,MAAM,EAAEtB,cAAc,CAACC;EACzB,CAAC;EAEDU,QAAQ,CAACY,IAAI,CAACL,WAAW,CAAC;EAC1BT,YAAY,CAACe,OAAO,CAACzB,WAAW,EAAEa,IAAI,CAACa,SAAS,CAACd,QAAQ,CAAC,CAAC;EAE3D,OAAOO,WAAW;AACpB;AAEA,OAAO,eAAeQ,uBAAuBA,CAACpB,SAAS,EAAEa,EAAE,EAAEQ,gBAAgB,EAAE;EAC7E,MAAMnB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAACX,WAAW,CAAC;EAC/C,MAAMY,QAAQ,GAAGH,KAAK,GAAGI,IAAI,CAACC,KAAK,CAACL,KAAK,CAAC,GAAG,EAAE;EAE/C,MAAMoB,KAAK,GAAGjB,QAAQ,CAACkB,SAAS,CAC9Bd,CAAC,IAAIA,CAAC,CAACI,EAAE,KAAKA,EAAE,IAAIJ,CAAC,CAACT,SAAS,KAAKA,SACtC,CAAC;EAED,IAAIsB,KAAK,KAAK,CAAC,CAAC,EAAE,MAAM,IAAIrB,KAAK,CAAC,wBAAwB,CAAC;EAE3DI,QAAQ,CAACiB,KAAK,CAAC,GAAG;IAChB,GAAGjB,QAAQ,CAACiB,KAAK,CAAC;IAClB,GAAGD;EACL,CAAC;EAEDlB,YAAY,CAACe,OAAO,CAACzB,WAAW,EAAEa,IAAI,CAACa,SAAS,CAACd,QAAQ,CAAC,CAAC;EAC3D,OAAOA,QAAQ,CAACiB,KAAK,CAAC;AACxB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}