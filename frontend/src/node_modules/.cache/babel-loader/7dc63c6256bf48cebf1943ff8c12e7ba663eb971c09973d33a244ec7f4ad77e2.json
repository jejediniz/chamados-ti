{"ast":null,"code":"export async function atualizarChamadoStorage(empresaId, id, dados) {\n  const chamados = JSON.parse(localStorage.getItem(`chamados_${empresaId}`) || \"[]\");\n  const index = chamados.findIndex(c => c.id === id);\n  if (index === -1) return null;\n  const chamadoAtual = chamados[index];\n  const historicoAtual = Array.isArray(chamadoAtual.historico) ? chamadoAtual.historico : [];\n  const chamadoAtualizado = {\n    ...chamadoAtual,\n    ...dados,\n    historico: [...historicoAtual, {\n      data: new Date().toISOString(),\n      acao: `Status alterado para ${dados.status}`\n    }]\n  };\n  chamados[index] = chamadoAtualizado;\n  localStorage.setItem(`chamados_${empresaId}`, JSON.stringify(chamados));\n  return chamadoAtualizado;\n}","map":{"version":3,"names":["atualizarChamadoStorage","empresaId","id","dados","chamados","JSON","parse","localStorage","getItem","index","findIndex","c","chamadoAtual","historicoAtual","Array","isArray","historico","chamadoAtualizado","data","Date","toISOString","acao","status","setItem","stringify"],"sources":["/home/diniz_jessica/development/chamados-ti/src/services/chamadosService.js"],"sourcesContent":["export async function atualizarChamadoStorage(empresaId, id, dados) {\n  const chamados = JSON.parse(\n    localStorage.getItem(`chamados_${empresaId}`) || \"[]\"\n  );\n\n  const index = chamados.findIndex(c => c.id === id);\n  if (index === -1) return null;\n\n  const chamadoAtual = chamados[index];\n\n  const historicoAtual = Array.isArray(chamadoAtual.historico)\n    ? chamadoAtual.historico\n    : [];\n\n  const chamadoAtualizado = {\n    ...chamadoAtual,\n    ...dados,\n    historico: [\n      ...historicoAtual,\n      {\n        data: new Date().toISOString(),\n        acao: `Status alterado para ${dados.status}`,\n      },\n    ],\n  };\n\n  chamados[index] = chamadoAtualizado;\n  localStorage.setItem(`chamados_${empresaId}`, JSON.stringify(chamados));\n\n  return chamadoAtualizado;\n}\n"],"mappings":"AAAA,OAAO,eAAeA,uBAAuBA,CAACC,SAAS,EAAEC,EAAE,EAAEC,KAAK,EAAE;EAClE,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CACzBC,YAAY,CAACC,OAAO,CAAC,YAAYP,SAAS,EAAE,CAAC,IAAI,IACnD,CAAC;EAED,MAAMQ,KAAK,GAAGL,QAAQ,CAACM,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACT,EAAE,KAAKA,EAAE,CAAC;EAClD,IAAIO,KAAK,KAAK,CAAC,CAAC,EAAE,OAAO,IAAI;EAE7B,MAAMG,YAAY,GAAGR,QAAQ,CAACK,KAAK,CAAC;EAEpC,MAAMI,cAAc,GAAGC,KAAK,CAACC,OAAO,CAACH,YAAY,CAACI,SAAS,CAAC,GACxDJ,YAAY,CAACI,SAAS,GACtB,EAAE;EAEN,MAAMC,iBAAiB,GAAG;IACxB,GAAGL,YAAY;IACf,GAAGT,KAAK;IACRa,SAAS,EAAE,CACT,GAAGH,cAAc,EACjB;MACEK,IAAI,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;MAC9BC,IAAI,EAAE,wBAAwBlB,KAAK,CAACmB,MAAM;IAC5C,CAAC;EAEL,CAAC;EAEDlB,QAAQ,CAACK,KAAK,CAAC,GAAGQ,iBAAiB;EACnCV,YAAY,CAACgB,OAAO,CAAC,YAAYtB,SAAS,EAAE,EAAEI,IAAI,CAACmB,SAAS,CAACpB,QAAQ,CAAC,CAAC;EAEvE,OAAOa,iBAAiB;AAC1B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}