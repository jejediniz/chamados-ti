{"ast":null,"code":"/**\n * react-router v7.12.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\"use client\";import _objectSpread from\"/home/diniz_jessica/development/chamados-ti/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{RSCRouterGlobalErrorBoundary,deserializeErrors,getHydrationData,populateRSCRouteModules}from\"./chunk-FNSCYPCZ.mjs\";import{CRITICAL_CSS_DATA_ATTRIBUTE,ErrorResponseImpl,FrameworkContext,RSCRouterContext,RemixErrorBoundary,RouterProvider,createBrowserHistory,createClientRoutes,createClientRoutesWithHMRRevalidationOptOut,createContext,createRequestInit,createRouter,decodeViaTurboStream,getPatchRoutesOnNavigationFunction,getSingleFetchDataStrategyImpl,getTurboStreamSingleFetchDataStrategy,hydrationRouteProperties,invariant,isMutationMethod,mapRouteProperties,noActionDefinedError,setIsHydrated,shouldHydrateRouteLoader,singleFetchUrl,stripIndexParam,useFogOFWarDiscovery}from\"./chunk-EPOLDU6W.mjs\";// lib/dom-export/dom-router-provider.tsx\nimport*as React from\"react\";import*as ReactDOM from\"react-dom\";function RouterProvider2(props){return/* @__PURE__ */React.createElement(RouterProvider,_objectSpread({flushSync:ReactDOM.flushSync},props));}// lib/dom-export/hydrated-router.tsx\nimport*as React2 from\"react\";var ssrInfo=null;var router=null;function initSsrInfo(){if(!ssrInfo&&window.__reactRouterContext&&window.__reactRouterManifest&&window.__reactRouterRouteModules){if(window.__reactRouterManifest.sri===true){const importMap=document.querySelector(\"script[rr-importmap]\");if(importMap!==null&&importMap!==void 0&&importMap.textContent){try{window.__reactRouterManifest.sri=JSON.parse(importMap.textContent).integrity;}catch(err){console.error(\"Failed to parse import map\",err);}}}ssrInfo={context:window.__reactRouterContext,manifest:window.__reactRouterManifest,routeModules:window.__reactRouterRouteModules,stateDecodingPromise:void 0,router:void 0,routerInitialized:false};}}function createHydratedRouter(_ref){let{getContext,unstable_instrumentations}=_ref;initSsrInfo();if(!ssrInfo){throw new Error(\"You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`\");}let localSsrInfo=ssrInfo;if(!ssrInfo.stateDecodingPromise){let stream=ssrInfo.context.stream;invariant(stream,\"No stream found for single fetch decoding\");ssrInfo.context.stream=void 0;ssrInfo.stateDecodingPromise=decodeViaTurboStream(stream,window).then(value=>{ssrInfo.context.state=value.value;localSsrInfo.stateDecodingPromise.value=true;}).catch(e=>{localSsrInfo.stateDecodingPromise.error=e;});}if(ssrInfo.stateDecodingPromise.error){throw ssrInfo.stateDecodingPromise.error;}if(!ssrInfo.stateDecodingPromise.value){throw ssrInfo.stateDecodingPromise;}let routes=createClientRoutes(ssrInfo.manifest.routes,ssrInfo.routeModules,ssrInfo.context.state,ssrInfo.context.ssr,ssrInfo.context.isSpaMode);let hydrationData=void 0;if(ssrInfo.context.isSpaMode){var _ssrInfo$manifest$rou;let{loaderData}=ssrInfo.context.state;if((_ssrInfo$manifest$rou=ssrInfo.manifest.routes.root)!==null&&_ssrInfo$manifest$rou!==void 0&&_ssrInfo$manifest$rou.hasLoader&&loaderData&&\"root\"in loaderData){hydrationData={loaderData:{root:loaderData.root}};}}else{var _window$__reactRouter;hydrationData=getHydrationData({state:ssrInfo.context.state,routes,getRouteInfo:routeId=>{var _ssrInfo$routeModules,_ssrInfo$manifest$rou2,_ssrInfo$routeModules2;return{clientLoader:(_ssrInfo$routeModules=ssrInfo.routeModules[routeId])===null||_ssrInfo$routeModules===void 0?void 0:_ssrInfo$routeModules.clientLoader,hasLoader:((_ssrInfo$manifest$rou2=ssrInfo.manifest.routes[routeId])===null||_ssrInfo$manifest$rou2===void 0?void 0:_ssrInfo$manifest$rou2.hasLoader)===true,hasHydrateFallback:((_ssrInfo$routeModules2=ssrInfo.routeModules[routeId])===null||_ssrInfo$routeModules2===void 0?void 0:_ssrInfo$routeModules2.HydrateFallback)!=null};},location:window.location,basename:(_window$__reactRouter=window.__reactRouterContext)===null||_window$__reactRouter===void 0?void 0:_window$__reactRouter.basename,isSpaMode:ssrInfo.context.isSpaMode});if(hydrationData&&hydrationData.errors){hydrationData.errors=deserializeErrors(hydrationData.errors);}}let router2=createRouter({routes,history:createBrowserHistory(),basename:ssrInfo.context.basename,getContext,hydrationData,hydrationRouteProperties,unstable_instrumentations,mapRouteProperties,future:{middleware:ssrInfo.context.future.v8_middleware},dataStrategy:getTurboStreamSingleFetchDataStrategy(()=>router2,ssrInfo.manifest,ssrInfo.routeModules,ssrInfo.context.ssr,ssrInfo.context.basename,ssrInfo.context.future.unstable_trailingSlashAwareDataRequests),patchRoutesOnNavigation:getPatchRoutesOnNavigationFunction(ssrInfo.manifest,ssrInfo.routeModules,ssrInfo.context.ssr,ssrInfo.context.routeDiscovery,ssrInfo.context.isSpaMode,ssrInfo.context.basename)});ssrInfo.router=router2;if(router2.state.initialized){ssrInfo.routerInitialized=true;router2.initialize();}router2.createRoutesForHMR=/* spacer so ts-ignore does not affect the right hand of the assignment */createClientRoutesWithHMRRevalidationOptOut;window.__reactRouterDataRouter=router2;return router2;}function HydratedRouter(props){var _ssrInfo;if(!router){router=createHydratedRouter({getContext:props.getContext,unstable_instrumentations:props.unstable_instrumentations});}let[criticalCss,setCriticalCss]=React2.useState(process.env.NODE_ENV===\"development\"?(_ssrInfo=ssrInfo)===null||_ssrInfo===void 0?void 0:_ssrInfo.context.criticalCss:void 0);React2.useEffect(()=>{if(process.env.NODE_ENV===\"development\"){setCriticalCss(void 0);}},[]);React2.useEffect(()=>{if(process.env.NODE_ENV===\"development\"&&criticalCss===void 0){document.querySelectorAll(\"[\".concat(CRITICAL_CSS_DATA_ATTRIBUTE,\"]\")).forEach(element=>element.remove());}},[criticalCss]);let[location2,setLocation]=React2.useState(router.state.location);React2.useLayoutEffect(()=>{if(ssrInfo&&ssrInfo.router&&!ssrInfo.routerInitialized){ssrInfo.routerInitialized=true;ssrInfo.router.initialize();}},[]);React2.useLayoutEffect(()=>{if(ssrInfo&&ssrInfo.router){return ssrInfo.router.subscribe(newState=>{if(newState.location!==location2){setLocation(newState.location);}});}},[location2]);invariant(ssrInfo,\"ssrInfo unavailable for HydratedRouter\");useFogOFWarDiscovery(router,ssrInfo.manifest,ssrInfo.routeModules,ssrInfo.context.ssr,ssrInfo.context.routeDiscovery,ssrInfo.context.isSpaMode);return(// This fragment is important to ensure we match the <ServerRouter> JSX\n// structure so that useId values hydrate correctly\n/* @__PURE__ */React2.createElement(React2.Fragment,null,/* @__PURE__ */React2.createElement(FrameworkContext.Provider,{value:{manifest:ssrInfo.manifest,routeModules:ssrInfo.routeModules,future:ssrInfo.context.future,criticalCss,ssr:ssrInfo.context.ssr,isSpaMode:ssrInfo.context.isSpaMode,routeDiscovery:ssrInfo.context.routeDiscovery}},/* @__PURE__ */React2.createElement(RemixErrorBoundary,{location:location2},/* @__PURE__ */React2.createElement(RouterProvider2,{router,unstable_useTransitions:props.unstable_useTransitions,onError:props.onError}))),/* @__PURE__ */React2.createElement(React2.Fragment,null)));}// lib/rsc/browser.tsx\nimport*as React3 from\"react\";import*as ReactDOM2 from\"react-dom\";function createCallServer(_ref2){let{createFromReadableStream,createTemporaryReferenceSet,encodeReply,fetch:fetchImplementation=fetch}=_ref2;const globalVar=window;let landedActionId=0;return async(id,args)=>{var _globalVar$__routerAc;let actionId=globalVar.__routerActionID=((_globalVar$__routerAc=globalVar.__routerActionID)!==null&&_globalVar$__routerAc!==void 0?_globalVar$__routerAc:globalVar.__routerActionID=0)+1;const temporaryReferences=createTemporaryReferenceSet();const payloadPromise=fetchImplementation(new Request(location.href,{body:await encodeReply(args,{temporaryReferences}),method:\"POST\",headers:{Accept:\"text/x-component\",\"rsc-action-id\":id}})).then(response=>{if(!response.body){throw new Error(\"No response body\");}return createFromReadableStream(response.body,{temporaryReferences});});React3.startTransition(()=>// @ts-expect-error - Needs React 19 types\nPromise.resolve(payloadPromise).then(async payload=>{if(payload.type===\"redirect\"){if(payload.reload||isExternalLocation(payload.location)){window.location.href=payload.location;return;}React3.startTransition(()=>{globalVar.__reactRouterDataRouter.navigate(payload.location,{replace:payload.replace});});return;}if(payload.type!==\"action\"){throw new Error(\"Unexpected payload type\");}const rerender=await payload.rerender;if(rerender&&landedActionId<actionId&&globalVar.__routerActionID<=actionId){if(rerender.type===\"redirect\"){if(rerender.reload||isExternalLocation(rerender.location)){window.location.href=rerender.location;return;}React3.startTransition(()=>{globalVar.__reactRouterDataRouter.navigate(rerender.location,{replace:rerender.replace});});return;}React3.startTransition(()=>{let lastMatch;for(const match of rerender.matches){var _lastMatch$id,_lastMatch;globalVar.__reactRouterDataRouter.patchRoutes((_lastMatch$id=(_lastMatch=lastMatch)===null||_lastMatch===void 0?void 0:_lastMatch.id)!==null&&_lastMatch$id!==void 0?_lastMatch$id:null,[createRouteFromServerManifest(match)],true);lastMatch=match;}window.__reactRouterDataRouter._internalSetStateDoNotUseOrYouWillBreakYourApp({loaderData:Object.assign({},globalVar.__reactRouterDataRouter.state.loaderData,rerender.loaderData),errors:rerender.errors?Object.assign({},globalVar.__reactRouterDataRouter.state.errors,rerender.errors):null});});}}).catch(()=>{}));return payloadPromise.then(payload=>{if(payload.type!==\"action\"&&payload.type!==\"redirect\"){throw new Error(\"Unexpected payload type\");}return payload.actionResult;});};}function createRouterFromPayload(_ref3){var _globalVar$__reactRou,_payload$patches;let{fetchImplementation,createFromReadableStream,getContext,payload}=_ref3;const globalVar=window;if(globalVar.__reactRouterDataRouter&&globalVar.__reactRouterRouteModules)return{router:globalVar.__reactRouterDataRouter,routeModules:globalVar.__reactRouterRouteModules};if(payload.type!==\"render\")throw new Error(\"Invalid payload type\");globalVar.__reactRouterRouteModules=(_globalVar$__reactRou=globalVar.__reactRouterRouteModules)!==null&&_globalVar$__reactRou!==void 0?_globalVar$__reactRou:{};populateRSCRouteModules(globalVar.__reactRouterRouteModules,payload.matches);let patches=/* @__PURE__ */new Map();(_payload$patches=payload.patches)===null||_payload$patches===void 0?void 0:_payload$patches.forEach(patch=>{var _patches$get;invariant(patch.parentId,\"Invalid patch parentId\");if(!patches.has(patch.parentId)){patches.set(patch.parentId,[]);}(_patches$get=patches.get(patch.parentId))===null||_patches$get===void 0?void 0:_patches$get.push(patch);});let routes=payload.matches.reduceRight((previous,match)=>{const route=createRouteFromServerManifest(match,payload);if(previous.length>0){route.children=previous;let childrenToPatch=patches.get(match.id);if(childrenToPatch){route.children.push(...childrenToPatch.map(r=>createRouteFromServerManifest(r)));}}return[route];},[]);globalVar.__reactRouterDataRouter=createRouter({routes,getContext,basename:payload.basename,history:createBrowserHistory(),hydrationData:getHydrationData({state:{loaderData:payload.loaderData,actionData:payload.actionData,errors:payload.errors},routes,getRouteInfo:routeId=>{let match=payload.matches.find(m=>m.id===routeId);invariant(match,\"Route not found in payload\");return{clientLoader:match.clientLoader,hasLoader:match.hasLoader,hasHydrateFallback:match.hydrateFallbackElement!=null};},location:payload.location,basename:payload.basename,isSpaMode:false}),async patchRoutesOnNavigation(_ref4){let{path,signal}=_ref4;if(discoveredPaths.has(path)){return;}await fetchAndApplyManifestPatches([path],createFromReadableStream,fetchImplementation,signal);},// FIXME: Pass `build.ssr` into this function\ndataStrategy:getRSCSingleFetchDataStrategy(()=>globalVar.__reactRouterDataRouter,true,payload.basename,createFromReadableStream,fetchImplementation)});if(globalVar.__reactRouterDataRouter.state.initialized){globalVar.__routerInitialized=true;globalVar.__reactRouterDataRouter.initialize();}else{globalVar.__routerInitialized=false;}let lastLoaderData=void 0;globalVar.__reactRouterDataRouter.subscribe(_ref5=>{let{loaderData,actionData}=_ref5;if(lastLoaderData!==loaderData){var _globalVar$__routerAc2;globalVar.__routerActionID=((_globalVar$__routerAc2=globalVar.__routerActionID)!==null&&_globalVar$__routerAc2!==void 0?_globalVar$__routerAc2:globalVar.__routerActionID=0)+1;}});globalVar.__reactRouterDataRouter._updateRoutesForHMR=routeUpdateByRouteId=>{const oldRoutes=window.__reactRouterDataRouter.routes;const newRoutes=[];function walkRoutes(routes2,parentId){return routes2.map(route=>{const routeUpdate=routeUpdateByRouteId.get(route.id);if(routeUpdate){const{routeModule,hasAction,hasComponent,hasErrorBoundary,hasLoader}=routeUpdate;const newRoute=createRouteFromServerManifest({clientAction:routeModule.clientAction,clientLoader:routeModule.clientLoader,element:route.element,errorElement:route.errorElement,handle:route.handle,hasAction,hasComponent,hasErrorBoundary,hasLoader,hydrateFallbackElement:route.hydrateFallbackElement,id:route.id,index:route.index,links:routeModule.links,meta:routeModule.meta,parentId,path:route.path,shouldRevalidate:routeModule.shouldRevalidate});if(route.children){newRoute.children=walkRoutes(route.children,route.id);}return newRoute;}const updatedRoute=_objectSpread({},route);if(route.children){updatedRoute.children=walkRoutes(route.children,route.id);}return updatedRoute;});}newRoutes.push(...walkRoutes(oldRoutes,void 0));window.__reactRouterDataRouter._internalSetRoutes(newRoutes);};return{router:globalVar.__reactRouterDataRouter,routeModules:globalVar.__reactRouterRouteModules};}var renderedRoutesContext=createContext();function getRSCSingleFetchDataStrategy(getRouter,ssr,basename,createFromReadableStream,fetchImplementation){let dataStrategy=getSingleFetchDataStrategyImpl(getRouter,match=>{let M=match;return{hasLoader:M.route.hasLoader,hasClientLoader:M.route.hasClientLoader,hasComponent:M.route.hasComponent,hasAction:M.route.hasAction,hasClientAction:M.route.hasClientAction,hasShouldRevalidate:M.route.hasShouldRevalidate};},// pass map into fetchAndDecode so it can add payloads\ngetFetchAndDecodeViaRSC(createFromReadableStream,fetchImplementation),ssr,basename,// .rsc requests are always trailing slash aware\ntrue,// If the route has a component but we don't have an element, we need to hit\n// the server loader flow regardless of whether the client loader calls\n// `serverLoader` or not, otherwise we'll have nothing to render.\nmatch=>{let M=match;return M.route.hasComponent&&!M.route.element;});return async args=>args.runClientMiddleware(async()=>{let context=args.context;context.set(renderedRoutesContext,[]);let results=await dataStrategy(args);const renderedRoutesById=/* @__PURE__ */new Map();for(const route of context.get(renderedRoutesContext)){if(!renderedRoutesById.has(route.id)){renderedRoutesById.set(route.id,[]);}renderedRoutesById.get(route.id).push(route);}React3.startTransition(()=>{for(const match of args.matches){const renderedRoutes=renderedRoutesById.get(match.route.id);if(renderedRoutes){for(const rendered of renderedRoutes){var _rendered$parentId;window.__reactRouterDataRouter.patchRoutes((_rendered$parentId=rendered.parentId)!==null&&_rendered$parentId!==void 0?_rendered$parentId:null,[createRouteFromServerManifest(rendered)],true);}}}});return results;});}function getFetchAndDecodeViaRSC(createFromReadableStream,fetchImplementation){return async(args,basename,trailingSlashAware,targetRoutes)=>{let{request,context}=args;let url=singleFetchUrl(request.url,basename,trailingSlashAware,\"rsc\");if(request.method===\"GET\"){url=stripIndexParam(url);if(targetRoutes){url.searchParams.set(\"_routes\",targetRoutes.join(\",\"));}}let res=await fetchImplementation(new Request(url,await createRequestInit(request)));if(res.status>=400&&!res.headers.has(\"X-Remix-Response\")){throw new ErrorResponseImpl(res.status,res.statusText,await res.text());}invariant(res.body,\"No response body to decode\");try{const payload=await createFromReadableStream(res.body,{temporaryReferences:void 0});if(payload.type===\"redirect\"){return{status:res.status,data:{redirect:{redirect:payload.location,reload:payload.reload,replace:payload.replace,revalidate:false,status:payload.status}}};}if(payload.type!==\"render\"){throw new Error(\"Unexpected payload type\");}context.get(renderedRoutesContext).push(...payload.matches);let results={routes:{}};const dataKey=isMutationMethod(request.method)?\"actionData\":\"loaderData\";for(let[routeId,data]of Object.entries(payload[dataKey]||{})){results.routes[routeId]={data};}if(payload.errors){for(let[routeId,error]of Object.entries(payload.errors)){results.routes[routeId]={error};}}return{status:res.status,data:results};}catch(e){throw new Error(\"Unable to decode RSC response\");}};}function RSCHydratedRouter(_ref6){let{createFromReadableStream,fetch:fetchImplementation=fetch,payload,routeDiscovery=\"eager\",getContext}=_ref6;if(payload.type!==\"render\")throw new Error(\"Invalid payload type\");let{router:router2,routeModules}=React3.useMemo(()=>createRouterFromPayload({payload,fetchImplementation,getContext,createFromReadableStream}),[createFromReadableStream,payload,fetchImplementation,getContext]);React3.useEffect(()=>{setIsHydrated();},[]);React3.useLayoutEffect(()=>{const globalVar=window;if(!globalVar.__routerInitialized){globalVar.__routerInitialized=true;globalVar.__reactRouterDataRouter.initialize();}},[]);let[{routes,state},setState]=React3.useState(()=>({routes:cloneRoutes(router2.routes),state:router2.state}));React3.useLayoutEffect(()=>router2.subscribe(newState=>{if(diffRoutes(router2.routes,routes))React3.startTransition(()=>{setState({routes:cloneRoutes(router2.routes),state:newState});});}),[router2.subscribe,routes,router2]);const transitionEnabledRouter=React3.useMemo(()=>_objectSpread(_objectSpread({},router2),{},{state,routes}),[router2,routes,state]);React3.useEffect(()=>{var _window$navigator,_window$navigator$con;if(routeDiscovery===\"lazy\"||// @ts-expect-error - TS doesn't know about this yet\n((_window$navigator=window.navigator)===null||_window$navigator===void 0?void 0:(_window$navigator$con=_window$navigator.connection)===null||_window$navigator$con===void 0?void 0:_window$navigator$con.saveData)===true){return;}function registerElement(el){let path=el.tagName===\"FORM\"?el.getAttribute(\"action\"):el.getAttribute(\"href\");if(!path){return;}let pathname=el.tagName===\"A\"?el.pathname:new URL(path,window.location.origin).pathname;if(!discoveredPaths.has(pathname)){nextPaths.add(pathname);}}async function fetchPatches(){document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);let paths=Array.from(nextPaths.keys()).filter(path=>{if(discoveredPaths.has(path)){nextPaths.delete(path);return false;}return true;});if(paths.length===0){return;}try{await fetchAndApplyManifestPatches(paths,createFromReadableStream,fetchImplementation);}catch(e){console.error(\"Failed to fetch manifest patches\",e);}}let debouncedFetchPatches=debounce(fetchPatches,100);fetchPatches();let observer=new MutationObserver(()=>debouncedFetchPatches());observer.observe(document.documentElement,{subtree:true,childList:true,attributes:true,attributeFilter:[\"data-discover\",\"href\",\"action\"]});},[routeDiscovery,createFromReadableStream,fetchImplementation]);const frameworkContext={future:{// These flags have no runtime impact so can always be false.  If we add\n// flags that drive runtime behavior they'll need to be proxied through.\nv8_middleware:false,unstable_subResourceIntegrity:false,unstable_trailingSlashAwareDataRequests:true// always on for RSC\n},isSpaMode:false,ssr:true,criticalCss:\"\",manifest:{routes:{},version:\"1\",url:\"\",entry:{module:\"\",imports:[]}},routeDiscovery:{mode:\"lazy\",manifestPath:\"/__manifest\"},routeModules};return/* @__PURE__ */React3.createElement(RSCRouterContext.Provider,{value:true},/* @__PURE__ */React3.createElement(RSCRouterGlobalErrorBoundary,{location:state.location},/* @__PURE__ */React3.createElement(FrameworkContext.Provider,{value:frameworkContext},/* @__PURE__ */React3.createElement(RouterProvider,{router:transitionEnabledRouter,flushSync:ReactDOM2.flushSync}))));}function createRouteFromServerManifest(match,payload){var _payload$errors,_match$clientLoader;let hasInitialData=payload&&match.id in payload.loaderData;let initialData=payload===null||payload===void 0?void 0:payload.loaderData[match.id];let hasInitialError=(payload===null||payload===void 0?void 0:payload.errors)&&match.id in payload.errors;let initialError=payload===null||payload===void 0?void 0:(_payload$errors=payload.errors)===null||_payload$errors===void 0?void 0:_payload$errors[match.id];let isHydrationRequest=((_match$clientLoader=match.clientLoader)===null||_match$clientLoader===void 0?void 0:_match$clientLoader.hydrate)===true||!match.hasLoader||// If the route has a component but we don't have an element, we need to hit\n// the server loader flow regardless of whether the client loader calls\n// `serverLoader` or not, otherwise we'll have nothing to render.\nmatch.hasComponent&&!match.element;invariant(window.__reactRouterRouteModules);populateRSCRouteModules(window.__reactRouterRouteModules,match);let dataRoute={id:match.id,element:match.element,errorElement:match.errorElement,handle:match.handle,hasErrorBoundary:match.hasErrorBoundary,hydrateFallbackElement:match.hydrateFallbackElement,index:match.index,loader:match.clientLoader?async(args,singleFetch)=>{try{let result=await match.clientLoader(_objectSpread(_objectSpread({},args),{},{serverLoader:()=>{preventInvalidServerHandlerCall(\"loader\",match.id,match.hasLoader);if(isHydrationRequest){if(hasInitialData){return initialData;}if(hasInitialError){throw initialError;}}return callSingleFetch(singleFetch);}}));return result;}finally{isHydrationRequest=false;}}:// We always make the call in this RSC world since even if we don't\n// have a `loader` we may need to get the `element` implementation\n(_,singleFetch)=>callSingleFetch(singleFetch),action:match.clientAction?(args,singleFetch)=>match.clientAction(_objectSpread(_objectSpread({},args),{},{serverAction:async()=>{preventInvalidServerHandlerCall(\"action\",match.id,match.hasLoader);return await callSingleFetch(singleFetch);}})):match.hasAction?(_,singleFetch)=>callSingleFetch(singleFetch):()=>{throw noActionDefinedError(\"action\",match.id);},path:match.path,shouldRevalidate:match.shouldRevalidate,// We always have a \"loader\" in this RSC world since even if we don't\n// have a `loader` we may need to get the `element` implementation\nhasLoader:true,hasClientLoader:match.clientLoader!=null,hasAction:match.hasAction,hasClientAction:match.clientAction!=null,hasShouldRevalidate:match.shouldRevalidate!=null};if(typeof dataRoute.loader===\"function\"){dataRoute.loader.hydrate=shouldHydrateRouteLoader(match.id,match.clientLoader,match.hasLoader,false);}return dataRoute;}function callSingleFetch(singleFetch){invariant(typeof singleFetch===\"function\",\"Invalid singleFetch parameter\");return singleFetch();}function preventInvalidServerHandlerCall(type,routeId,hasHandler){if(!hasHandler){let fn=type===\"action\"?\"serverAction()\":\"serverLoader()\";let msg=\"You are trying to call \".concat(fn,\" on a route that does not have a server \").concat(type,\" (routeId: \\\"\").concat(routeId,\"\\\")\");console.error(msg);throw new ErrorResponseImpl(400,\"Bad Request\",new Error(msg),true);}}var nextPaths=/* @__PURE__ */new Set();var discoveredPathsMaxSize=1e3;var discoveredPaths=/* @__PURE__ */new Set();var URL_LIMIT=7680;function getManifestUrl(paths){var _globalVar$__reactRou2;if(paths.length===0){return null;}if(paths.length===1){return new URL(\"\".concat(paths[0],\".manifest\"),window.location.origin);}const globalVar=window;let basename=((_globalVar$__reactRou2=globalVar.__reactRouterDataRouter.basename)!==null&&_globalVar$__reactRou2!==void 0?_globalVar$__reactRou2:\"\").replace(/^\\/|\\/$/g,\"\");let url=new URL(\"\".concat(basename,\"/.manifest\"),window.location.origin);url.searchParams.set(\"paths\",paths.sort().join(\",\"));return url;}async function fetchAndApplyManifestPatches(paths,createFromReadableStream,fetchImplementation,signal){let url=getManifestUrl(paths);if(url==null){return;}if(url.toString().length>URL_LIMIT){nextPaths.clear();return;}let response=await fetchImplementation(new Request(url,{signal}));if(!response.body||response.status<200||response.status>=300){throw new Error(\"Unable to fetch new route matches from the server\");}let payload=await createFromReadableStream(response.body,{temporaryReferences:void 0});if(payload.type!==\"manifest\"){throw new Error(\"Failed to patch routes\");}paths.forEach(p=>addToFifoQueue(p,discoveredPaths));React3.startTransition(()=>{payload.patches.forEach(p=>{var _p$parentId;window.__reactRouterDataRouter.patchRoutes((_p$parentId=p.parentId)!==null&&_p$parentId!==void 0?_p$parentId:null,[createRouteFromServerManifest(p)]);});});}function addToFifoQueue(path,queue){if(queue.size>=discoveredPathsMaxSize){let first=queue.values().next().value;if(typeof first===\"string\")queue.delete(first);}queue.add(path);}function debounce(callback,wait){let timeoutId;return function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}window.clearTimeout(timeoutId);timeoutId=window.setTimeout(()=>callback(...args),wait);};}function isExternalLocation(location2){const newLocation=new URL(location2,window.location.href);return newLocation.origin!==window.location.origin;}function cloneRoutes(routes){if(!routes)return void 0;return routes.map(route=>_objectSpread(_objectSpread({},route),{},{children:cloneRoutes(route.children)}));}function diffRoutes(a,b){if(a.length!==b.length)return true;return a.some((route,index)=>{if(route.element!==b[index].element)return true;if(route.errorElement!==b[index].errorElement)return true;if(route.hydrateFallbackElement!==b[index].hydrateFallbackElement)return true;if(route.hasErrorBoundary!==b[index].hasErrorBoundary)return true;if(route.hasLoader!==b[index].hasLoader)return true;if(route.hasClientLoader!==b[index].hasClientLoader)return true;if(route.hasAction!==b[index].hasAction)return true;if(route.hasClientAction!==b[index].hasClientAction)return true;return diffRoutes(route.children||[],b[index].children||[]);});}// lib/rsc/html-stream/browser.ts\nfunction getRSCStream(){let encoder=new TextEncoder();let streamController=null;let rscStream=new ReadableStream({start(controller){if(typeof window===\"undefined\"){return;}let handleChunk=chunk=>{if(typeof chunk===\"string\"){controller.enqueue(encoder.encode(chunk));}else{controller.enqueue(chunk);}};window.__FLIGHT_DATA||(window.__FLIGHT_DATA=[]);window.__FLIGHT_DATA.forEach(handleChunk);window.__FLIGHT_DATA.push=chunk=>{handleChunk(chunk);return 0;};streamController=controller;}});if(typeof document!==\"undefined\"&&document.readyState===\"loading\"){document.addEventListener(\"DOMContentLoaded\",()=>{var _streamController;(_streamController=streamController)===null||_streamController===void 0?void 0:_streamController.close();});}else{var _streamController2;(_streamController2=streamController)===null||_streamController2===void 0?void 0:_streamController2.close();}return rscStream;}export{HydratedRouter,RouterProvider2 as RouterProvider,RSCHydratedRouter as unstable_RSCHydratedRouter,createCallServer as unstable_createCallServer,getRSCStream as unstable_getRSCStream};","map":{"version":3,"names":["_objectSpread","RSCRouterGlobalErrorBoundary","deserializeErrors","getHydrationData","populateRSCRouteModules","CRITICAL_CSS_DATA_ATTRIBUTE","ErrorResponseImpl","FrameworkContext","RSCRouterContext","RemixErrorBoundary","RouterProvider","createBrowserHistory","createClientRoutes","createClientRoutesWithHMRRevalidationOptOut","createContext","createRequestInit","createRouter","decodeViaTurboStream","getPatchRoutesOnNavigationFunction","getSingleFetchDataStrategyImpl","getTurboStreamSingleFetchDataStrategy","hydrationRouteProperties","invariant","isMutationMethod","mapRouteProperties","noActionDefinedError","setIsHydrated","shouldHydrateRouteLoader","singleFetchUrl","stripIndexParam","useFogOFWarDiscovery","React","ReactDOM","RouterProvider2","props","createElement","flushSync","React2","ssrInfo","router","initSsrInfo","window","__reactRouterContext","__reactRouterManifest","__reactRouterRouteModules","sri","importMap","document","querySelector","textContent","JSON","parse","integrity","err","console","error","context","manifest","routeModules","stateDecodingPromise","routerInitialized","createHydratedRouter","_ref","getContext","unstable_instrumentations","Error","localSsrInfo","stream","then","value","state","catch","e","routes","ssr","isSpaMode","hydrationData","_ssrInfo$manifest$rou","loaderData","root","hasLoader","_window$__reactRouter","getRouteInfo","routeId","_ssrInfo$routeModules","_ssrInfo$manifest$rou2","_ssrInfo$routeModules2","clientLoader","hasHydrateFallback","HydrateFallback","location","basename","errors","router2","history","future","middleware","v8_middleware","dataStrategy","unstable_trailingSlashAwareDataRequests","patchRoutesOnNavigation","routeDiscovery","initialized","initialize","createRoutesForHMR","__reactRouterDataRouter","HydratedRouter","_ssrInfo","criticalCss","setCriticalCss","useState","process","env","NODE_ENV","useEffect","querySelectorAll","concat","forEach","element","remove","location2","setLocation","useLayoutEffect","subscribe","newState","Fragment","Provider","unstable_useTransitions","onError","React3","ReactDOM2","createCallServer","_ref2","createFromReadableStream","createTemporaryReferenceSet","encodeReply","fetch","fetchImplementation","globalVar","landedActionId","id","args","_globalVar$__routerAc","actionId","__routerActionID","temporaryReferences","payloadPromise","Request","href","body","method","headers","Accept","response","startTransition","Promise","resolve","payload","type","reload","isExternalLocation","navigate","replace","rerender","lastMatch","match","matches","_lastMatch$id","_lastMatch","patchRoutes","createRouteFromServerManifest","_internalSetStateDoNotUseOrYouWillBreakYourApp","Object","assign","actionResult","createRouterFromPayload","_ref3","_globalVar$__reactRou","_payload$patches","patches","Map","patch","_patches$get","parentId","has","set","get","push","reduceRight","previous","route","length","children","childrenToPatch","map","r","actionData","find","m","hydrateFallbackElement","_ref4","path","signal","discoveredPaths","fetchAndApplyManifestPatches","getRSCSingleFetchDataStrategy","__routerInitialized","lastLoaderData","_ref5","_globalVar$__routerAc2","_updateRoutesForHMR","routeUpdateByRouteId","oldRoutes","newRoutes","walkRoutes","routes2","routeUpdate","routeModule","hasAction","hasComponent","hasErrorBoundary","newRoute","clientAction","errorElement","handle","index","links","meta","shouldRevalidate","updatedRoute","_internalSetRoutes","renderedRoutesContext","getRouter","M","hasClientLoader","hasClientAction","hasShouldRevalidate","getFetchAndDecodeViaRSC","runClientMiddleware","results","renderedRoutesById","renderedRoutes","rendered","_rendered$parentId","trailingSlashAware","targetRoutes","request","url","searchParams","join","res","status","statusText","text","data","redirect","revalidate","dataKey","entries","RSCHydratedRouter","_ref6","useMemo","setState","cloneRoutes","diffRoutes","transitionEnabledRouter","_window$navigator","_window$navigator$con","navigator","connection","saveData","registerElement","el","tagName","getAttribute","pathname","URL","origin","nextPaths","add","fetchPatches","paths","Array","from","keys","filter","delete","debouncedFetchPatches","debounce","observer","MutationObserver","observe","documentElement","subtree","childList","attributes","attributeFilter","frameworkContext","unstable_subResourceIntegrity","version","entry","module","imports","mode","manifestPath","_payload$errors","_match$clientLoader","hasInitialData","initialData","hasInitialError","initialError","isHydrationRequest","hydrate","dataRoute","loader","singleFetch","result","serverLoader","preventInvalidServerHandlerCall","callSingleFetch","_","action","serverAction","hasHandler","fn","msg","Set","discoveredPathsMaxSize","URL_LIMIT","getManifestUrl","_globalVar$__reactRou2","sort","toString","clear","p","addToFifoQueue","_p$parentId","queue","size","first","values","next","callback","wait","timeoutId","_len","arguments","_key","clearTimeout","setTimeout","newLocation","a","b","some","getRSCStream","encoder","TextEncoder","streamController","rscStream","ReadableStream","start","controller","handleChunk","chunk","enqueue","encode","__FLIGHT_DATA","readyState","addEventListener","_streamController","close","_streamController2","unstable_RSCHydratedRouter","unstable_createCallServer","unstable_getRSCStream"],"sources":["/home/diniz_jessica/development/chamados-ti/frontend/src/node_modules/react-router/dist/development/dom-export.mjs"],"sourcesContent":["/**\n * react-router v7.12.0\n *\n * Copyright (c) Remix Software Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.md file in the root directory of this source tree.\n *\n * @license MIT\n */\n\"use client\";\nimport {\n  RSCRouterGlobalErrorBoundary,\n  deserializeErrors,\n  getHydrationData,\n  populateRSCRouteModules\n} from \"./chunk-FNSCYPCZ.mjs\";\nimport {\n  CRITICAL_CSS_DATA_ATTRIBUTE,\n  ErrorResponseImpl,\n  FrameworkContext,\n  RSCRouterContext,\n  RemixErrorBoundary,\n  RouterProvider,\n  createBrowserHistory,\n  createClientRoutes,\n  createClientRoutesWithHMRRevalidationOptOut,\n  createContext,\n  createRequestInit,\n  createRouter,\n  decodeViaTurboStream,\n  getPatchRoutesOnNavigationFunction,\n  getSingleFetchDataStrategyImpl,\n  getTurboStreamSingleFetchDataStrategy,\n  hydrationRouteProperties,\n  invariant,\n  isMutationMethod,\n  mapRouteProperties,\n  noActionDefinedError,\n  setIsHydrated,\n  shouldHydrateRouteLoader,\n  singleFetchUrl,\n  stripIndexParam,\n  useFogOFWarDiscovery\n} from \"./chunk-EPOLDU6W.mjs\";\n\n// lib/dom-export/dom-router-provider.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nfunction RouterProvider2(props) {\n  return /* @__PURE__ */ React.createElement(RouterProvider, { flushSync: ReactDOM.flushSync, ...props });\n}\n\n// lib/dom-export/hydrated-router.tsx\nimport * as React2 from \"react\";\nvar ssrInfo = null;\nvar router = null;\nfunction initSsrInfo() {\n  if (!ssrInfo && window.__reactRouterContext && window.__reactRouterManifest && window.__reactRouterRouteModules) {\n    if (window.__reactRouterManifest.sri === true) {\n      const importMap = document.querySelector(\"script[rr-importmap]\");\n      if (importMap?.textContent) {\n        try {\n          window.__reactRouterManifest.sri = JSON.parse(\n            importMap.textContent\n          ).integrity;\n        } catch (err) {\n          console.error(\"Failed to parse import map\", err);\n        }\n      }\n    }\n    ssrInfo = {\n      context: window.__reactRouterContext,\n      manifest: window.__reactRouterManifest,\n      routeModules: window.__reactRouterRouteModules,\n      stateDecodingPromise: void 0,\n      router: void 0,\n      routerInitialized: false\n    };\n  }\n}\nfunction createHydratedRouter({\n  getContext,\n  unstable_instrumentations\n}) {\n  initSsrInfo();\n  if (!ssrInfo) {\n    throw new Error(\n      \"You must be using the SSR features of React Router in order to skip passing a `router` prop to `<RouterProvider>`\"\n    );\n  }\n  let localSsrInfo = ssrInfo;\n  if (!ssrInfo.stateDecodingPromise) {\n    let stream = ssrInfo.context.stream;\n    invariant(stream, \"No stream found for single fetch decoding\");\n    ssrInfo.context.stream = void 0;\n    ssrInfo.stateDecodingPromise = decodeViaTurboStream(stream, window).then((value) => {\n      ssrInfo.context.state = value.value;\n      localSsrInfo.stateDecodingPromise.value = true;\n    }).catch((e) => {\n      localSsrInfo.stateDecodingPromise.error = e;\n    });\n  }\n  if (ssrInfo.stateDecodingPromise.error) {\n    throw ssrInfo.stateDecodingPromise.error;\n  }\n  if (!ssrInfo.stateDecodingPromise.value) {\n    throw ssrInfo.stateDecodingPromise;\n  }\n  let routes = createClientRoutes(\n    ssrInfo.manifest.routes,\n    ssrInfo.routeModules,\n    ssrInfo.context.state,\n    ssrInfo.context.ssr,\n    ssrInfo.context.isSpaMode\n  );\n  let hydrationData = void 0;\n  if (ssrInfo.context.isSpaMode) {\n    let { loaderData } = ssrInfo.context.state;\n    if (ssrInfo.manifest.routes.root?.hasLoader && loaderData && \"root\" in loaderData) {\n      hydrationData = {\n        loaderData: {\n          root: loaderData.root\n        }\n      };\n    }\n  } else {\n    hydrationData = getHydrationData({\n      state: ssrInfo.context.state,\n      routes,\n      getRouteInfo: (routeId) => ({\n        clientLoader: ssrInfo.routeModules[routeId]?.clientLoader,\n        hasLoader: ssrInfo.manifest.routes[routeId]?.hasLoader === true,\n        hasHydrateFallback: ssrInfo.routeModules[routeId]?.HydrateFallback != null\n      }),\n      location: window.location,\n      basename: window.__reactRouterContext?.basename,\n      isSpaMode: ssrInfo.context.isSpaMode\n    });\n    if (hydrationData && hydrationData.errors) {\n      hydrationData.errors = deserializeErrors(hydrationData.errors);\n    }\n  }\n  let router2 = createRouter({\n    routes,\n    history: createBrowserHistory(),\n    basename: ssrInfo.context.basename,\n    getContext,\n    hydrationData,\n    hydrationRouteProperties,\n    unstable_instrumentations,\n    mapRouteProperties,\n    future: {\n      middleware: ssrInfo.context.future.v8_middleware\n    },\n    dataStrategy: getTurboStreamSingleFetchDataStrategy(\n      () => router2,\n      ssrInfo.manifest,\n      ssrInfo.routeModules,\n      ssrInfo.context.ssr,\n      ssrInfo.context.basename,\n      ssrInfo.context.future.unstable_trailingSlashAwareDataRequests\n    ),\n    patchRoutesOnNavigation: getPatchRoutesOnNavigationFunction(\n      ssrInfo.manifest,\n      ssrInfo.routeModules,\n      ssrInfo.context.ssr,\n      ssrInfo.context.routeDiscovery,\n      ssrInfo.context.isSpaMode,\n      ssrInfo.context.basename\n    )\n  });\n  ssrInfo.router = router2;\n  if (router2.state.initialized) {\n    ssrInfo.routerInitialized = true;\n    router2.initialize();\n  }\n  router2.createRoutesForHMR = /* spacer so ts-ignore does not affect the right hand of the assignment */\n  createClientRoutesWithHMRRevalidationOptOut;\n  window.__reactRouterDataRouter = router2;\n  return router2;\n}\nfunction HydratedRouter(props) {\n  if (!router) {\n    router = createHydratedRouter({\n      getContext: props.getContext,\n      unstable_instrumentations: props.unstable_instrumentations\n    });\n  }\n  let [criticalCss, setCriticalCss] = React2.useState(\n    process.env.NODE_ENV === \"development\" ? ssrInfo?.context.criticalCss : void 0\n  );\n  React2.useEffect(() => {\n    if (process.env.NODE_ENV === \"development\") {\n      setCriticalCss(void 0);\n    }\n  }, []);\n  React2.useEffect(() => {\n    if (process.env.NODE_ENV === \"development\" && criticalCss === void 0) {\n      document.querySelectorAll(`[${CRITICAL_CSS_DATA_ATTRIBUTE}]`).forEach((element) => element.remove());\n    }\n  }, [criticalCss]);\n  let [location2, setLocation] = React2.useState(router.state.location);\n  React2.useLayoutEffect(() => {\n    if (ssrInfo && ssrInfo.router && !ssrInfo.routerInitialized) {\n      ssrInfo.routerInitialized = true;\n      ssrInfo.router.initialize();\n    }\n  }, []);\n  React2.useLayoutEffect(() => {\n    if (ssrInfo && ssrInfo.router) {\n      return ssrInfo.router.subscribe((newState) => {\n        if (newState.location !== location2) {\n          setLocation(newState.location);\n        }\n      });\n    }\n  }, [location2]);\n  invariant(ssrInfo, \"ssrInfo unavailable for HydratedRouter\");\n  useFogOFWarDiscovery(\n    router,\n    ssrInfo.manifest,\n    ssrInfo.routeModules,\n    ssrInfo.context.ssr,\n    ssrInfo.context.routeDiscovery,\n    ssrInfo.context.isSpaMode\n  );\n  return (\n    // This fragment is important to ensure we match the <ServerRouter> JSX\n    // structure so that useId values hydrate correctly\n    /* @__PURE__ */ React2.createElement(React2.Fragment, null, /* @__PURE__ */ React2.createElement(\n      FrameworkContext.Provider,\n      {\n        value: {\n          manifest: ssrInfo.manifest,\n          routeModules: ssrInfo.routeModules,\n          future: ssrInfo.context.future,\n          criticalCss,\n          ssr: ssrInfo.context.ssr,\n          isSpaMode: ssrInfo.context.isSpaMode,\n          routeDiscovery: ssrInfo.context.routeDiscovery\n        }\n      },\n      /* @__PURE__ */ React2.createElement(RemixErrorBoundary, { location: location2 }, /* @__PURE__ */ React2.createElement(\n        RouterProvider2,\n        {\n          router,\n          unstable_useTransitions: props.unstable_useTransitions,\n          onError: props.onError\n        }\n      ))\n    ), /* @__PURE__ */ React2.createElement(React2.Fragment, null))\n  );\n}\n\n// lib/rsc/browser.tsx\nimport * as React3 from \"react\";\nimport * as ReactDOM2 from \"react-dom\";\nfunction createCallServer({\n  createFromReadableStream,\n  createTemporaryReferenceSet,\n  encodeReply,\n  fetch: fetchImplementation = fetch\n}) {\n  const globalVar = window;\n  let landedActionId = 0;\n  return async (id, args) => {\n    let actionId = globalVar.__routerActionID = (globalVar.__routerActionID ?? (globalVar.__routerActionID = 0)) + 1;\n    const temporaryReferences = createTemporaryReferenceSet();\n    const payloadPromise = fetchImplementation(\n      new Request(location.href, {\n        body: await encodeReply(args, { temporaryReferences }),\n        method: \"POST\",\n        headers: {\n          Accept: \"text/x-component\",\n          \"rsc-action-id\": id\n        }\n      })\n    ).then((response) => {\n      if (!response.body) {\n        throw new Error(\"No response body\");\n      }\n      return createFromReadableStream(response.body, {\n        temporaryReferences\n      });\n    });\n    React3.startTransition(\n      () => (\n        // @ts-expect-error - Needs React 19 types\n        Promise.resolve(payloadPromise).then(async (payload) => {\n          if (payload.type === \"redirect\") {\n            if (payload.reload || isExternalLocation(payload.location)) {\n              window.location.href = payload.location;\n              return;\n            }\n            React3.startTransition(() => {\n              globalVar.__reactRouterDataRouter.navigate(payload.location, {\n                replace: payload.replace\n              });\n            });\n            return;\n          }\n          if (payload.type !== \"action\") {\n            throw new Error(\"Unexpected payload type\");\n          }\n          const rerender = await payload.rerender;\n          if (rerender && landedActionId < actionId && globalVar.__routerActionID <= actionId) {\n            if (rerender.type === \"redirect\") {\n              if (rerender.reload || isExternalLocation(rerender.location)) {\n                window.location.href = rerender.location;\n                return;\n              }\n              React3.startTransition(() => {\n                globalVar.__reactRouterDataRouter.navigate(rerender.location, {\n                  replace: rerender.replace\n                });\n              });\n              return;\n            }\n            React3.startTransition(() => {\n              let lastMatch;\n              for (const match of rerender.matches) {\n                globalVar.__reactRouterDataRouter.patchRoutes(\n                  lastMatch?.id ?? null,\n                  [createRouteFromServerManifest(match)],\n                  true\n                );\n                lastMatch = match;\n              }\n              window.__reactRouterDataRouter._internalSetStateDoNotUseOrYouWillBreakYourApp(\n                {\n                  loaderData: Object.assign(\n                    {},\n                    globalVar.__reactRouterDataRouter.state.loaderData,\n                    rerender.loaderData\n                  ),\n                  errors: rerender.errors ? Object.assign(\n                    {},\n                    globalVar.__reactRouterDataRouter.state.errors,\n                    rerender.errors\n                  ) : null\n                }\n              );\n            });\n          }\n        }).catch(() => {\n        })\n      )\n    );\n    return payloadPromise.then((payload) => {\n      if (payload.type !== \"action\" && payload.type !== \"redirect\") {\n        throw new Error(\"Unexpected payload type\");\n      }\n      return payload.actionResult;\n    });\n  };\n}\nfunction createRouterFromPayload({\n  fetchImplementation,\n  createFromReadableStream,\n  getContext,\n  payload\n}) {\n  const globalVar = window;\n  if (globalVar.__reactRouterDataRouter && globalVar.__reactRouterRouteModules)\n    return {\n      router: globalVar.__reactRouterDataRouter,\n      routeModules: globalVar.__reactRouterRouteModules\n    };\n  if (payload.type !== \"render\") throw new Error(\"Invalid payload type\");\n  globalVar.__reactRouterRouteModules = globalVar.__reactRouterRouteModules ?? {};\n  populateRSCRouteModules(globalVar.__reactRouterRouteModules, payload.matches);\n  let patches = /* @__PURE__ */ new Map();\n  payload.patches?.forEach((patch) => {\n    invariant(patch.parentId, \"Invalid patch parentId\");\n    if (!patches.has(patch.parentId)) {\n      patches.set(patch.parentId, []);\n    }\n    patches.get(patch.parentId)?.push(patch);\n  });\n  let routes = payload.matches.reduceRight((previous, match) => {\n    const route = createRouteFromServerManifest(\n      match,\n      payload\n    );\n    if (previous.length > 0) {\n      route.children = previous;\n      let childrenToPatch = patches.get(match.id);\n      if (childrenToPatch) {\n        route.children.push(\n          ...childrenToPatch.map((r) => createRouteFromServerManifest(r))\n        );\n      }\n    }\n    return [route];\n  }, []);\n  globalVar.__reactRouterDataRouter = createRouter({\n    routes,\n    getContext,\n    basename: payload.basename,\n    history: createBrowserHistory(),\n    hydrationData: getHydrationData({\n      state: {\n        loaderData: payload.loaderData,\n        actionData: payload.actionData,\n        errors: payload.errors\n      },\n      routes,\n      getRouteInfo: (routeId) => {\n        let match = payload.matches.find((m) => m.id === routeId);\n        invariant(match, \"Route not found in payload\");\n        return {\n          clientLoader: match.clientLoader,\n          hasLoader: match.hasLoader,\n          hasHydrateFallback: match.hydrateFallbackElement != null\n        };\n      },\n      location: payload.location,\n      basename: payload.basename,\n      isSpaMode: false\n    }),\n    async patchRoutesOnNavigation({ path, signal }) {\n      if (discoveredPaths.has(path)) {\n        return;\n      }\n      await fetchAndApplyManifestPatches(\n        [path],\n        createFromReadableStream,\n        fetchImplementation,\n        signal\n      );\n    },\n    // FIXME: Pass `build.ssr` into this function\n    dataStrategy: getRSCSingleFetchDataStrategy(\n      () => globalVar.__reactRouterDataRouter,\n      true,\n      payload.basename,\n      createFromReadableStream,\n      fetchImplementation\n    )\n  });\n  if (globalVar.__reactRouterDataRouter.state.initialized) {\n    globalVar.__routerInitialized = true;\n    globalVar.__reactRouterDataRouter.initialize();\n  } else {\n    globalVar.__routerInitialized = false;\n  }\n  let lastLoaderData = void 0;\n  globalVar.__reactRouterDataRouter.subscribe(({ loaderData, actionData }) => {\n    if (lastLoaderData !== loaderData) {\n      globalVar.__routerActionID = (globalVar.__routerActionID ?? (globalVar.__routerActionID = 0)) + 1;\n    }\n  });\n  globalVar.__reactRouterDataRouter._updateRoutesForHMR = (routeUpdateByRouteId) => {\n    const oldRoutes = window.__reactRouterDataRouter.routes;\n    const newRoutes = [];\n    function walkRoutes(routes2, parentId) {\n      return routes2.map((route) => {\n        const routeUpdate = routeUpdateByRouteId.get(route.id);\n        if (routeUpdate) {\n          const {\n            routeModule,\n            hasAction,\n            hasComponent,\n            hasErrorBoundary,\n            hasLoader\n          } = routeUpdate;\n          const newRoute = createRouteFromServerManifest({\n            clientAction: routeModule.clientAction,\n            clientLoader: routeModule.clientLoader,\n            element: route.element,\n            errorElement: route.errorElement,\n            handle: route.handle,\n            hasAction,\n            hasComponent,\n            hasErrorBoundary,\n            hasLoader,\n            hydrateFallbackElement: route.hydrateFallbackElement,\n            id: route.id,\n            index: route.index,\n            links: routeModule.links,\n            meta: routeModule.meta,\n            parentId,\n            path: route.path,\n            shouldRevalidate: routeModule.shouldRevalidate\n          });\n          if (route.children) {\n            newRoute.children = walkRoutes(route.children, route.id);\n          }\n          return newRoute;\n        }\n        const updatedRoute = { ...route };\n        if (route.children) {\n          updatedRoute.children = walkRoutes(route.children, route.id);\n        }\n        return updatedRoute;\n      });\n    }\n    newRoutes.push(\n      ...walkRoutes(oldRoutes, void 0)\n    );\n    window.__reactRouterDataRouter._internalSetRoutes(newRoutes);\n  };\n  return {\n    router: globalVar.__reactRouterDataRouter,\n    routeModules: globalVar.__reactRouterRouteModules\n  };\n}\nvar renderedRoutesContext = createContext();\nfunction getRSCSingleFetchDataStrategy(getRouter, ssr, basename, createFromReadableStream, fetchImplementation) {\n  let dataStrategy = getSingleFetchDataStrategyImpl(\n    getRouter,\n    (match) => {\n      let M = match;\n      return {\n        hasLoader: M.route.hasLoader,\n        hasClientLoader: M.route.hasClientLoader,\n        hasComponent: M.route.hasComponent,\n        hasAction: M.route.hasAction,\n        hasClientAction: M.route.hasClientAction,\n        hasShouldRevalidate: M.route.hasShouldRevalidate\n      };\n    },\n    // pass map into fetchAndDecode so it can add payloads\n    getFetchAndDecodeViaRSC(createFromReadableStream, fetchImplementation),\n    ssr,\n    basename,\n    // .rsc requests are always trailing slash aware\n    true,\n    // If the route has a component but we don't have an element, we need to hit\n    // the server loader flow regardless of whether the client loader calls\n    // `serverLoader` or not, otherwise we'll have nothing to render.\n    (match) => {\n      let M = match;\n      return M.route.hasComponent && !M.route.element;\n    }\n  );\n  return async (args) => args.runClientMiddleware(async () => {\n    let context = args.context;\n    context.set(renderedRoutesContext, []);\n    let results = await dataStrategy(args);\n    const renderedRoutesById = /* @__PURE__ */ new Map();\n    for (const route of context.get(renderedRoutesContext)) {\n      if (!renderedRoutesById.has(route.id)) {\n        renderedRoutesById.set(route.id, []);\n      }\n      renderedRoutesById.get(route.id).push(route);\n    }\n    React3.startTransition(() => {\n      for (const match of args.matches) {\n        const renderedRoutes = renderedRoutesById.get(match.route.id);\n        if (renderedRoutes) {\n          for (const rendered of renderedRoutes) {\n            window.__reactRouterDataRouter.patchRoutes(\n              rendered.parentId ?? null,\n              [createRouteFromServerManifest(rendered)],\n              true\n            );\n          }\n        }\n      }\n    });\n    return results;\n  });\n}\nfunction getFetchAndDecodeViaRSC(createFromReadableStream, fetchImplementation) {\n  return async (args, basename, trailingSlashAware, targetRoutes) => {\n    let { request, context } = args;\n    let url = singleFetchUrl(request.url, basename, trailingSlashAware, \"rsc\");\n    if (request.method === \"GET\") {\n      url = stripIndexParam(url);\n      if (targetRoutes) {\n        url.searchParams.set(\"_routes\", targetRoutes.join(\",\"));\n      }\n    }\n    let res = await fetchImplementation(\n      new Request(url, await createRequestInit(request))\n    );\n    if (res.status >= 400 && !res.headers.has(\"X-Remix-Response\")) {\n      throw new ErrorResponseImpl(res.status, res.statusText, await res.text());\n    }\n    invariant(res.body, \"No response body to decode\");\n    try {\n      const payload = await createFromReadableStream(res.body, {\n        temporaryReferences: void 0\n      });\n      if (payload.type === \"redirect\") {\n        return {\n          status: res.status,\n          data: {\n            redirect: {\n              redirect: payload.location,\n              reload: payload.reload,\n              replace: payload.replace,\n              revalidate: false,\n              status: payload.status\n            }\n          }\n        };\n      }\n      if (payload.type !== \"render\") {\n        throw new Error(\"Unexpected payload type\");\n      }\n      context.get(renderedRoutesContext).push(...payload.matches);\n      let results = { routes: {} };\n      const dataKey = isMutationMethod(request.method) ? \"actionData\" : \"loaderData\";\n      for (let [routeId, data] of Object.entries(payload[dataKey] || {})) {\n        results.routes[routeId] = { data };\n      }\n      if (payload.errors) {\n        for (let [routeId, error] of Object.entries(payload.errors)) {\n          results.routes[routeId] = { error };\n        }\n      }\n      return { status: res.status, data: results };\n    } catch (e) {\n      throw new Error(\"Unable to decode RSC response\");\n    }\n  };\n}\nfunction RSCHydratedRouter({\n  createFromReadableStream,\n  fetch: fetchImplementation = fetch,\n  payload,\n  routeDiscovery = \"eager\",\n  getContext\n}) {\n  if (payload.type !== \"render\") throw new Error(\"Invalid payload type\");\n  let { router: router2, routeModules } = React3.useMemo(\n    () => createRouterFromPayload({\n      payload,\n      fetchImplementation,\n      getContext,\n      createFromReadableStream\n    }),\n    [createFromReadableStream, payload, fetchImplementation, getContext]\n  );\n  React3.useEffect(() => {\n    setIsHydrated();\n  }, []);\n  React3.useLayoutEffect(() => {\n    const globalVar = window;\n    if (!globalVar.__routerInitialized) {\n      globalVar.__routerInitialized = true;\n      globalVar.__reactRouterDataRouter.initialize();\n    }\n  }, []);\n  let [{ routes, state }, setState] = React3.useState(() => ({\n    routes: cloneRoutes(router2.routes),\n    state: router2.state\n  }));\n  React3.useLayoutEffect(\n    () => router2.subscribe((newState) => {\n      if (diffRoutes(router2.routes, routes))\n        React3.startTransition(() => {\n          setState({\n            routes: cloneRoutes(router2.routes),\n            state: newState\n          });\n        });\n    }),\n    [router2.subscribe, routes, router2]\n  );\n  const transitionEnabledRouter = React3.useMemo(\n    () => ({\n      ...router2,\n      state,\n      routes\n    }),\n    [router2, routes, state]\n  );\n  React3.useEffect(() => {\n    if (routeDiscovery === \"lazy\" || // @ts-expect-error - TS doesn't know about this yet\n    window.navigator?.connection?.saveData === true) {\n      return;\n    }\n    function registerElement(el) {\n      let path = el.tagName === \"FORM\" ? el.getAttribute(\"action\") : el.getAttribute(\"href\");\n      if (!path) {\n        return;\n      }\n      let pathname = el.tagName === \"A\" ? el.pathname : new URL(path, window.location.origin).pathname;\n      if (!discoveredPaths.has(pathname)) {\n        nextPaths.add(pathname);\n      }\n    }\n    async function fetchPatches() {\n      document.querySelectorAll(\"a[data-discover], form[data-discover]\").forEach(registerElement);\n      let paths = Array.from(nextPaths.keys()).filter((path) => {\n        if (discoveredPaths.has(path)) {\n          nextPaths.delete(path);\n          return false;\n        }\n        return true;\n      });\n      if (paths.length === 0) {\n        return;\n      }\n      try {\n        await fetchAndApplyManifestPatches(\n          paths,\n          createFromReadableStream,\n          fetchImplementation\n        );\n      } catch (e) {\n        console.error(\"Failed to fetch manifest patches\", e);\n      }\n    }\n    let debouncedFetchPatches = debounce(fetchPatches, 100);\n    fetchPatches();\n    let observer = new MutationObserver(() => debouncedFetchPatches());\n    observer.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"data-discover\", \"href\", \"action\"]\n    });\n  }, [routeDiscovery, createFromReadableStream, fetchImplementation]);\n  const frameworkContext = {\n    future: {\n      // These flags have no runtime impact so can always be false.  If we add\n      // flags that drive runtime behavior they'll need to be proxied through.\n      v8_middleware: false,\n      unstable_subResourceIntegrity: false,\n      unstable_trailingSlashAwareDataRequests: true\n      // always on for RSC\n    },\n    isSpaMode: false,\n    ssr: true,\n    criticalCss: \"\",\n    manifest: {\n      routes: {},\n      version: \"1\",\n      url: \"\",\n      entry: {\n        module: \"\",\n        imports: []\n      }\n    },\n    routeDiscovery: { mode: \"lazy\", manifestPath: \"/__manifest\" },\n    routeModules\n  };\n  return /* @__PURE__ */ React3.createElement(RSCRouterContext.Provider, { value: true }, /* @__PURE__ */ React3.createElement(RSCRouterGlobalErrorBoundary, { location: state.location }, /* @__PURE__ */ React3.createElement(FrameworkContext.Provider, { value: frameworkContext }, /* @__PURE__ */ React3.createElement(\n    RouterProvider,\n    {\n      router: transitionEnabledRouter,\n      flushSync: ReactDOM2.flushSync\n    }\n  ))));\n}\nfunction createRouteFromServerManifest(match, payload) {\n  let hasInitialData = payload && match.id in payload.loaderData;\n  let initialData = payload?.loaderData[match.id];\n  let hasInitialError = payload?.errors && match.id in payload.errors;\n  let initialError = payload?.errors?.[match.id];\n  let isHydrationRequest = match.clientLoader?.hydrate === true || !match.hasLoader || // If the route has a component but we don't have an element, we need to hit\n  // the server loader flow regardless of whether the client loader calls\n  // `serverLoader` or not, otherwise we'll have nothing to render.\n  match.hasComponent && !match.element;\n  invariant(window.__reactRouterRouteModules);\n  populateRSCRouteModules(window.__reactRouterRouteModules, match);\n  let dataRoute = {\n    id: match.id,\n    element: match.element,\n    errorElement: match.errorElement,\n    handle: match.handle,\n    hasErrorBoundary: match.hasErrorBoundary,\n    hydrateFallbackElement: match.hydrateFallbackElement,\n    index: match.index,\n    loader: match.clientLoader ? async (args, singleFetch) => {\n      try {\n        let result = await match.clientLoader({\n          ...args,\n          serverLoader: () => {\n            preventInvalidServerHandlerCall(\n              \"loader\",\n              match.id,\n              match.hasLoader\n            );\n            if (isHydrationRequest) {\n              if (hasInitialData) {\n                return initialData;\n              }\n              if (hasInitialError) {\n                throw initialError;\n              }\n            }\n            return callSingleFetch(singleFetch);\n          }\n        });\n        return result;\n      } finally {\n        isHydrationRequest = false;\n      }\n    } : (\n      // We always make the call in this RSC world since even if we don't\n      // have a `loader` we may need to get the `element` implementation\n      (_, singleFetch) => callSingleFetch(singleFetch)\n    ),\n    action: match.clientAction ? (args, singleFetch) => match.clientAction({\n      ...args,\n      serverAction: async () => {\n        preventInvalidServerHandlerCall(\n          \"action\",\n          match.id,\n          match.hasLoader\n        );\n        return await callSingleFetch(singleFetch);\n      }\n    }) : match.hasAction ? (_, singleFetch) => callSingleFetch(singleFetch) : () => {\n      throw noActionDefinedError(\"action\", match.id);\n    },\n    path: match.path,\n    shouldRevalidate: match.shouldRevalidate,\n    // We always have a \"loader\" in this RSC world since even if we don't\n    // have a `loader` we may need to get the `element` implementation\n    hasLoader: true,\n    hasClientLoader: match.clientLoader != null,\n    hasAction: match.hasAction,\n    hasClientAction: match.clientAction != null,\n    hasShouldRevalidate: match.shouldRevalidate != null\n  };\n  if (typeof dataRoute.loader === \"function\") {\n    dataRoute.loader.hydrate = shouldHydrateRouteLoader(\n      match.id,\n      match.clientLoader,\n      match.hasLoader,\n      false\n    );\n  }\n  return dataRoute;\n}\nfunction callSingleFetch(singleFetch) {\n  invariant(typeof singleFetch === \"function\", \"Invalid singleFetch parameter\");\n  return singleFetch();\n}\nfunction preventInvalidServerHandlerCall(type, routeId, hasHandler) {\n  if (!hasHandler) {\n    let fn = type === \"action\" ? \"serverAction()\" : \"serverLoader()\";\n    let msg = `You are trying to call ${fn} on a route that does not have a server ${type} (routeId: \"${routeId}\")`;\n    console.error(msg);\n    throw new ErrorResponseImpl(400, \"Bad Request\", new Error(msg), true);\n  }\n}\nvar nextPaths = /* @__PURE__ */ new Set();\nvar discoveredPathsMaxSize = 1e3;\nvar discoveredPaths = /* @__PURE__ */ new Set();\nvar URL_LIMIT = 7680;\nfunction getManifestUrl(paths) {\n  if (paths.length === 0) {\n    return null;\n  }\n  if (paths.length === 1) {\n    return new URL(`${paths[0]}.manifest`, window.location.origin);\n  }\n  const globalVar = window;\n  let basename = (globalVar.__reactRouterDataRouter.basename ?? \"\").replace(\n    /^\\/|\\/$/g,\n    \"\"\n  );\n  let url = new URL(`${basename}/.manifest`, window.location.origin);\n  url.searchParams.set(\"paths\", paths.sort().join(\",\"));\n  return url;\n}\nasync function fetchAndApplyManifestPatches(paths, createFromReadableStream, fetchImplementation, signal) {\n  let url = getManifestUrl(paths);\n  if (url == null) {\n    return;\n  }\n  if (url.toString().length > URL_LIMIT) {\n    nextPaths.clear();\n    return;\n  }\n  let response = await fetchImplementation(new Request(url, { signal }));\n  if (!response.body || response.status < 200 || response.status >= 300) {\n    throw new Error(\"Unable to fetch new route matches from the server\");\n  }\n  let payload = await createFromReadableStream(response.body, {\n    temporaryReferences: void 0\n  });\n  if (payload.type !== \"manifest\") {\n    throw new Error(\"Failed to patch routes\");\n  }\n  paths.forEach((p) => addToFifoQueue(p, discoveredPaths));\n  React3.startTransition(() => {\n    payload.patches.forEach((p) => {\n      window.__reactRouterDataRouter.patchRoutes(\n        p.parentId ?? null,\n        [createRouteFromServerManifest(p)]\n      );\n    });\n  });\n}\nfunction addToFifoQueue(path, queue) {\n  if (queue.size >= discoveredPathsMaxSize) {\n    let first = queue.values().next().value;\n    if (typeof first === \"string\") queue.delete(first);\n  }\n  queue.add(path);\n}\nfunction debounce(callback, wait) {\n  let timeoutId;\n  return (...args) => {\n    window.clearTimeout(timeoutId);\n    timeoutId = window.setTimeout(() => callback(...args), wait);\n  };\n}\nfunction isExternalLocation(location2) {\n  const newLocation = new URL(location2, window.location.href);\n  return newLocation.origin !== window.location.origin;\n}\nfunction cloneRoutes(routes) {\n  if (!routes) return void 0;\n  return routes.map((route) => ({\n    ...route,\n    children: cloneRoutes(route.children)\n  }));\n}\nfunction diffRoutes(a, b) {\n  if (a.length !== b.length) return true;\n  return a.some((route, index) => {\n    if (route.element !== b[index].element) return true;\n    if (route.errorElement !== b[index].errorElement)\n      return true;\n    if (route.hydrateFallbackElement !== b[index].hydrateFallbackElement)\n      return true;\n    if (route.hasErrorBoundary !== b[index].hasErrorBoundary)\n      return true;\n    if (route.hasLoader !== b[index].hasLoader) return true;\n    if (route.hasClientLoader !== b[index].hasClientLoader)\n      return true;\n    if (route.hasAction !== b[index].hasAction) return true;\n    if (route.hasClientAction !== b[index].hasClientAction)\n      return true;\n    return diffRoutes(route.children || [], b[index].children || []);\n  });\n}\n\n// lib/rsc/html-stream/browser.ts\nfunction getRSCStream() {\n  let encoder = new TextEncoder();\n  let streamController = null;\n  let rscStream = new ReadableStream({\n    start(controller) {\n      if (typeof window === \"undefined\") {\n        return;\n      }\n      let handleChunk = (chunk) => {\n        if (typeof chunk === \"string\") {\n          controller.enqueue(encoder.encode(chunk));\n        } else {\n          controller.enqueue(chunk);\n        }\n      };\n      window.__FLIGHT_DATA || (window.__FLIGHT_DATA = []);\n      window.__FLIGHT_DATA.forEach(handleChunk);\n      window.__FLIGHT_DATA.push = (chunk) => {\n        handleChunk(chunk);\n        return 0;\n      };\n      streamController = controller;\n    }\n  });\n  if (typeof document !== \"undefined\" && document.readyState === \"loading\") {\n    document.addEventListener(\"DOMContentLoaded\", () => {\n      streamController?.close();\n    });\n  } else {\n    streamController?.close();\n  }\n  return rscStream;\n}\nexport {\n  HydratedRouter,\n  RouterProvider2 as RouterProvider,\n  RSCHydratedRouter as unstable_RSCHydratedRouter,\n  createCallServer as unstable_createCallServer,\n  getRSCStream as unstable_getRSCStream\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}