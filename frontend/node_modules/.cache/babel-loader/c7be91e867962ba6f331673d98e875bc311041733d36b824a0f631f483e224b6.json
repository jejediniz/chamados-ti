{"ast":null,"code":"import _objectSpread from\"/home/diniz_jessica/development/chamados-ti/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import{useChamados}from\"../contextos/chamadosContext\";import{Button,Card,Select,Textarea}from\"../components/ui\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DEMANDAS_PADRAO=[\"Computador não liga\",\"Internet lenta\",\"Erro em sistema\",\"Impressora não funciona\",\"Solicitação de acesso\",\"Outro problema\"];export default function ChamadoRapido(){const{criarChamado}=useChamados();const[form,setForm]=useState({titulo:\"\",descricao:\"\",prioridade:\"media\"});const[erro,setErro]=useState(null);const[sucesso,setSucesso]=useState(null);const[carregando,setCarregando]=useState(false);function handleChange(e){setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));}async function handleSubmit(e){e.preventDefault();if(!form.titulo||!form.descricao){setErro(\"Preencha todos os campos obrigatórios\");return;}setErro(null);setSucesso(null);setCarregando(true);try{await criarChamado({titulo:form.titulo,descricao:form.descricao,prioridade:form.prioridade});setForm({titulo:\"\",descricao:\"\",prioridade:\"media\"});setSucesso(\"Chamado aberto com sucesso!\");}catch(error){setErro(error.message||\"Erro ao abrir chamado\");}finally{setCarregando(false);}}return/*#__PURE__*/_jsx(\"div\",{className:\"center-page\",children:/*#__PURE__*/_jsxs(Card,{className:\"open-ticket\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Abrir Chamado\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Escolha uma demanda ou descreva o problema para o suporte.\"}),erro&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-error\",children:erro}),sucesso&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",children:sucesso}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"open-form\",children:[/*#__PURE__*/_jsxs(Select,{label:\"Selecione um problema\",name:\"titulo\",value:form.titulo,onChange:handleChange,helperText:\"Use um dos casos prontos ou insira a d\\xFAvida manualmente\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione\"}),DEMANDAS_PADRAO.map((d,i)=>/*#__PURE__*/_jsx(\"option\",{value:d,children:d},i))]}),/*#__PURE__*/_jsx(Textarea,{label:\"Descri\\xE7\\xE3o\",name:\"descricao\",value:form.descricao,onChange:handleChange,placeholder:\"Descreva o que est\\xE1 acontecendo com o m\\xE1ximo de detalhes\"}),/*#__PURE__*/_jsxs(Select,{label:\"Prioridade\",name:\"prioridade\",value:form.prioridade,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"baixa\",children:\"Baixa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"media\",children:\"M\\xE9dia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"alta\",children:\"Alta\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-actions center\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",disabled:carregando,children:carregando?\"Enviando...\":\"Abrir Chamado\"})})]})]})});}","map":{"version":3,"names":["useState","useChamados","Button","Card","Select","Textarea","jsx","_jsx","jsxs","_jsxs","DEMANDAS_PADRAO","ChamadoRapido","criarChamado","form","setForm","titulo","descricao","prioridade","erro","setErro","sucesso","setSucesso","carregando","setCarregando","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","error","message","className","children","onSubmit","label","onChange","helperText","map","d","i","placeholder","type","variant","disabled"],"sources":["/home/diniz_jessica/development/chamados-ti/frontend/src/pages/ChamadoRapido.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useChamados } from \"../contextos/chamadosContext\";\nimport { Button, Card, Select, Textarea } from \"../components/ui\";\n\nconst DEMANDAS_PADRAO = [\n  \"Computador não liga\",\n  \"Internet lenta\",\n  \"Erro em sistema\",\n  \"Impressora não funciona\",\n  \"Solicitação de acesso\",\n  \"Outro problema\",\n];\n\nexport default function ChamadoRapido() {\n  const { criarChamado } = useChamados();\n\n  const [form, setForm] = useState({\n    titulo: \"\",\n    descricao: \"\",\n    prioridade: \"media\",\n  });\n  const [erro, setErro] = useState(null);\n  const [sucesso, setSucesso] = useState(null);\n  const [carregando, setCarregando] = useState(false);\n\n  function handleChange(e) {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!form.titulo || !form.descricao) {\n      setErro(\"Preencha todos os campos obrigatórios\");\n      return;\n    }\n\n    setErro(null);\n    setSucesso(null);\n    setCarregando(true);\n    try {\n      await criarChamado({\n        titulo: form.titulo,\n        descricao: form.descricao,\n        prioridade: form.prioridade,\n      });\n\n      setForm({ titulo: \"\", descricao: \"\", prioridade: \"media\" });\n      setSucesso(\"Chamado aberto com sucesso!\");\n    } catch (error) {\n      setErro(error.message || \"Erro ao abrir chamado\");\n    } finally {\n      setCarregando(false);\n    }\n  }\n\n  return (\n    <div className=\"center-page\">\n      <Card className=\"open-ticket\">\n        <h2>Abrir Chamado</h2>\n        <p>Escolha uma demanda ou descreva o problema para o suporte.</p>\n\n        {erro && <div className=\"alert alert-error\">{erro}</div>}\n        {sucesso && <div className=\"alert alert-success\">{sucesso}</div>}\n\n        <form onSubmit={handleSubmit} className=\"open-form\">\n          <Select\n            label=\"Selecione um problema\"\n            name=\"titulo\"\n            value={form.titulo}\n            onChange={handleChange}\n            helperText=\"Use um dos casos prontos ou insira a dúvida manualmente\"\n          >\n            <option value=\"\">Selecione</option>\n            {DEMANDAS_PADRAO.map((d, i) => (\n              <option key={i} value={d}>\n                {d}\n              </option>\n            ))}\n          </Select>\n\n          <Textarea\n            label=\"Descrição\"\n            name=\"descricao\"\n            value={form.descricao}\n            onChange={handleChange}\n            placeholder=\"Descreva o que está acontecendo com o máximo de detalhes\"\n          />\n\n          <Select label=\"Prioridade\" name=\"prioridade\" value={form.prioridade} onChange={handleChange}>\n            <option value=\"baixa\">Baixa</option>\n            <option value=\"media\">Média</option>\n            <option value=\"alta\">Alta</option>\n          </Select>\n\n          <div className=\"form-actions center\">\n            <Button type=\"submit\" variant=\"primary\" disabled={carregando}>\n              {carregando ? \"Enviando...\" : \"Abrir Chamado\"}\n            </Button>\n          </div>\n        </form>\n      </Card>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}