{"ast":null,"code":"import{useEffect,useMemo,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useChamados}from\"../contextos/chamadosContext\";import{Button,Card}from\"../components/ui\";/* ======================\n   HOOK DE ANIMA√á√ÉO\n====================== */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function useAnimatedNumber(valor){let duracao=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;const[animado,setAnimado]=useState(0);useEffect(()=>{let inicio=0;const incremento=Math.max(1,Math.ceil(valor/(duracao/16)));function animar(){inicio+=incremento;if(inicio>=valor){setAnimado(valor);return;}setAnimado(inicio);requestAnimationFrame(animar);}animar();},[valor,duracao]);return animado;}export default function Inicio(){const{chamados}=useChamados();const navigate=useNavigate();/* ======================\n     M√âTRICAS REAIS\n  ====================== */const total=chamados.length;const abertos=chamados.filter(c=>c.status===\"aberto\").length;const andamento=chamados.filter(c=>c.status===\"em_andamento\").length;const fechados=chamados.filter(c=>c.status===\"fechado\").length;/* ======================\n     N√öMEROS ANIMADOS\n  ====================== */const totalAnimado=useAnimatedNumber(total);const abertosAnimado=useAnimatedNumber(abertos);const andamentoAnimado=useAnimatedNumber(andamento);const fechadosAnimado=useAnimatedNumber(fechados);const metricCards=useMemo(()=>[{key:\"total\",label:\"Total de chamados\",value:totalAnimado,sublabel:\"Chamados registrados no sistema\",variant:\"primary\",icon:\"üìä\"},{key:\"abertos\",label:\"Abertos\",value:abertosAnimado,sublabel:\"Demandas aguardando atendimento\",variant:\"warning\",icon:\"üìÇ\"},{key:\"andamento\",label:\"Em andamento\",value:andamentoAnimado,sublabel:\"T√©cnicos trabalhando ativo\",variant:\"primary\",icon:\"üõ†Ô∏è\"},{key:\"fechados\",label:\"Fechados\",value:fechadosAnimado,sublabel:\"Atendimentos conclu√≠dos\",variant:\"success\",icon:\"‚úÖ\"}],[totalAnimado,abertosAnimado,andamentoAnimado,fechadosAnimado]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page-header page-header--centered\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"page-subtitle\",children:\"Vis\\xE3o geral dos chamados com indicadores importantes e pr\\xF3ximos passos.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"page-header-actions\",children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",onClick:()=>navigate(\"/abrir-chamado\"),children:\"Abrir chamado\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>navigate(\"/chamados\"),className:\"btn-md\",children:\"Gest\\xE3o completa\"})]})]}),/*#__PURE__*/_jsx(\"section\",{className:\"dashboard-grid\",children:metricCards.map(card=>/*#__PURE__*/_jsxs(Card,{className:\"metric-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"metric-card__header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"metric-card__icon\",children:card.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"metric-card__label\",children:card.label})]}),/*#__PURE__*/_jsx(\"strong\",{className:\"metric-card__value\",children:card.value}),/*#__PURE__*/_jsx(\"p\",{className:\"metric-card__body\",children:card.sublabel})]},card.key))})]});}","map":{"version":3,"names":["useEffect","useMemo","useState","useNavigate","useChamados","Button","Card","jsx","_jsx","jsxs","_jsxs","useAnimatedNumber","valor","duracao","arguments","length","undefined","animado","setAnimado","inicio","incremento","Math","max","ceil","animar","requestAnimationFrame","Inicio","chamados","navigate","total","abertos","filter","c","status","andamento","fechados","totalAnimado","abertosAnimado","andamentoAnimado","fechadosAnimado","metricCards","key","label","value","sublabel","variant","icon","children","className","onClick","map","card"],"sources":["/home/diniz_jessica/development/chamados-ti/frontend/src/pages/Inicio.js"],"sourcesContent":["import { useEffect, useMemo, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useChamados } from \"../contextos/chamadosContext\";\nimport { Button, Card } from \"../components/ui\";\n\n/* ======================\n   HOOK DE ANIMA√á√ÉO\n====================== */\nfunction useAnimatedNumber(valor, duracao = 500) {\n  const [animado, setAnimado] = useState(0);\n\n  useEffect(() => {\n    let inicio = 0;\n    const incremento = Math.max(1, Math.ceil(valor / (duracao / 16)));\n\n    function animar() {\n      inicio += incremento;\n      if (inicio >= valor) {\n        setAnimado(valor);\n        return;\n      }\n      setAnimado(inicio);\n      requestAnimationFrame(animar);\n    }\n\n    animar();\n  }, [valor, duracao]);\n\n  return animado;\n}\n\nexport default function Inicio() {\n  const { chamados } = useChamados();\n  const navigate = useNavigate();\n\n  /* ======================\n     M√âTRICAS REAIS\n  ====================== */\n  const total = chamados.length;\n\n  const abertos = chamados.filter((c) => c.status === \"aberto\").length;\n  const andamento = chamados.filter((c) => c.status === \"em_andamento\").length;\n  const fechados = chamados.filter((c) => c.status === \"fechado\").length;\n\n  /* ======================\n     N√öMEROS ANIMADOS\n  ====================== */\n  const totalAnimado = useAnimatedNumber(total);\n  const abertosAnimado = useAnimatedNumber(abertos);\n  const andamentoAnimado = useAnimatedNumber(andamento);\n  const fechadosAnimado = useAnimatedNumber(fechados);\n\n  const metricCards = useMemo(\n    () => [\n      {\n        key: \"total\",\n        label: \"Total de chamados\",\n        value: totalAnimado,\n        sublabel: \"Chamados registrados no sistema\",\n        variant: \"primary\",\n        icon: \"üìä\",\n      },\n      {\n        key: \"abertos\",\n        label: \"Abertos\",\n        value: abertosAnimado,\n        sublabel: \"Demandas aguardando atendimento\",\n        variant: \"warning\",\n        icon: \"üìÇ\",\n      },\n      {\n        key: \"andamento\",\n        label: \"Em andamento\",\n        value: andamentoAnimado,\n        sublabel: \"T√©cnicos trabalhando ativo\",\n        variant: \"primary\",\n        icon: \"üõ†Ô∏è\",\n      },\n      {\n        key: \"fechados\",\n        label: \"Fechados\",\n        value: fechadosAnimado,\n        sublabel: \"Atendimentos conclu√≠dos\",\n        variant: \"success\",\n        icon: \"‚úÖ\",\n      },\n    ],\n    [totalAnimado, abertosAnimado, andamentoAnimado, fechadosAnimado]\n  );\n\n  return (\n    <div>\n      <div className=\"page-header page-header--centered\">\n        <h2>Dashboard</h2>\n        <p className=\"page-subtitle\">\n          Vis√£o geral dos chamados com indicadores importantes e pr√≥ximos passos.\n        </p>\n        <div className=\"page-header-actions\">\n          <Button variant=\"ghost\" onClick={() => navigate(\"/abrir-chamado\")}>\n            Abrir chamado\n          </Button>\n          <Button\n            variant=\"secondary\"\n            onClick={() => navigate(\"/chamados\")}\n            className=\"btn-md\"\n          >\n            Gest√£o completa\n          </Button>\n        </div>\n      </div>\n\n      <section className=\"dashboard-grid\">\n        {metricCards.map((card) => (\n          <Card key={card.key} className=\"metric-card\">\n            <div className=\"metric-card__header\">\n              <span className=\"metric-card__icon\">{card.icon}</span>\n              <span className=\"metric-card__label\">{card.label}</span>\n            </div>\n            <strong className=\"metric-card__value\">{card.value}</strong>\n            <p className=\"metric-card__body\">{card.sublabel}</p>\n          </Card>\n        ))}\n      </section>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}